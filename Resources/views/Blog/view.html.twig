{% extends 'ClarolineCoreBundle:Workspace:layout.html.twig' %}

{% trans_default_domain "icap_blog" %}

{% block title %}{{ _resource.getName() }}{% endblock %}

{% block section_content %}
    <p>
        <a href="{{ _path('icap_blog_post_new', {'blogId': _resource.getId()}) }}">
            <button class="btn">{{ 'new_post'|trans() }}</button>
        </a>
    </p>
    {% for post in posts %}
    <article>
        {{ post.title }}
    </article>
    {% else %}
    <span>{{ 'no_post'|trans() }}</span>
    {% endfor %}
    {% if pager.haveToPaginate %}
    <div>
        {{
            pagerfanta(
                pager,
                'twitter_bootstrap_translated',
                {
                    'proximity' : 1,
                    'routeName': 'icap_blog_view',
                    'routeParams': {'blogId': _resource.getId()}
                }
            )
        }}
    </div>
    {%  endif %}
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {% stylesheets %}
        <link rel="stylesheet" type="text/css" href="{{ asset('bundles/icapblog/css/blog_view.css') }}"/>
    {% endstylesheets %}
{% endblock %}